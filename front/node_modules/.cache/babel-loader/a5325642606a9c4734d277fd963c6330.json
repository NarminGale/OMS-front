{"ast":null,"code":"import _defineProperty from\"/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Form,FormGroup,Label,Input,Button}from'reactstrap';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddUser=function AddUser(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({username:'',email:''}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var navigate=useNavigate();var username=user.username,email=user.email;var onInputChange=function onInputChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){if(error===true){var timeId=setTimeout(function(){// After 3 seconds set the show value to false\nsetError(false);},5000);return function(){clearTimeout(timeId);};}},[error]);var submitHandler=function submitHandler(e){e.preventDefault();axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"api/register\"),{name:user.username,email:user.email},{headers:{'Content-Type':'application/json'}}).then(function(res){console.log(res);setUser({username:'',email:''});navigate('/home');}).catch(function(err){return err.response.status===422?setError(true):setError(false);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Add a user\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger text-center m-3 \".concat(error===true?'d-block':'d-none'),role:\"alert\",children:\"Name or email address is invalid!\"}),/*#__PURE__*/_jsxs(Form,{className:\"container m-3\",onSubmit:function onSubmit(e){return submitHandler(e);},children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"username\",placeholder:\"Enter Name\",value:username,onChange:function onChange(e){return onInputChange(e);}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Enter email\",value:email,name:\"email\",onChange:function onChange(e){return onInputChange(e);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"success\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"btn btn-danger m-2\",children:\"Cancel\"})]})]});};export default AddUser;","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/src/AddUser.js"],"names":["React","useState","useEffect","Link","Form","FormGroup","Label","Input","Button","useNavigate","axios","AddUser","error","setError","username","email","user","setUser","navigate","onInputChange","e","target","name","value","timeId","setTimeout","clearTimeout","submitHandler","preventDefault","post","process","env","REACT_APP_API_URL","headers","then","res","console","log","catch","err","response","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Form, FormGroup, Label, Input, Button } from 'reactstrap'\nimport { useNavigate } from 'react-router-dom'\n\nimport axios from 'axios'\n\nconst AddUser = () => {\n\n  const [error, setError] = useState(false)\n\n  const [user, setUser] = useState({\n    username: '',\n    email: '',\n  })\n\n  const navigate = useNavigate()\n\n\n  const { username, email } = user\n\n  const onInputChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value })\n  }\n\n  useEffect(() => {\n\n    if (error === true) {\n      const timeId = setTimeout(() => {\n        // After 3 seconds set the show value to false\n        setError(false)\n      }, 5000)\n\n      return () => {\n        clearTimeout(timeId)\n      }\n  }\n  }, [error]);\n\n\n  const submitHandler = (e) => {\n\n    e.preventDefault()\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}api/register`,\n        {\n          name: user.username,\n          email: user.email,\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res)\n        setUser({\n          username: '',\n          email: '',\n        })\n        navigate('/home')\n      })\n      .catch((err) =>\n            err.response.status === 422 ?  setError(true) : setError(false)\n         )\n  }\n\n  return (\n    <>\n\n      <h2 className=\"text-center mb-4\">Add a user</h2>\n      <div className={`alert alert-danger text-center m-3 ${error === true ? 'd-block' : 'd-none'}`} role=\"alert\">\n        Name or email address is invalid!\n      </div>\n      <Form className=\"container m-3\" onSubmit={(e) => submitHandler(e)}>\n        <FormGroup>\n          <Label>Name</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Enter Name\"\n            value={username}\n            onChange={(e) => onInputChange(e)}></Input>\n        </FormGroup>\n        <FormGroup>\n          <Label>Email</Label>\n          <Input\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            name=\"email\"\n            onChange={(e) => onInputChange(e)}></Input>\n        </FormGroup>\n        <Button type=\"submit\" color=\"success\">\n          Submit\n        </Button>\n        <Link to=\"/home\" className=\"btn btn-danger m-2\">\n          Cancel\n        </Link>\n      </Form>\n    </>\n  )\n}\n\nexport default AddUser\n"]},"metadata":{},"sourceType":"module"}