{"ast":null,"code":"var _jsxFileName = \"/home/narminali/Desktop/vabiss/narmin-oms-front/src/AddUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, FormGroup, Label, Input, Button } from 'reactstrap';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddUser = () => {\n  _s();\n\n  const [error, setError] = useState(false);\n  const [user, setUser] = useState({\n    username: '',\n    email: ''\n  });\n  const navigate = useNavigate();\n  const {\n    username,\n    email\n  } = user;\n\n  const onInputChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    if (error === true) {\n      const timeId = setTimeout(() => {\n        // After 3 seconds set the show value to false\n        setError(false);\n      }, 5000);\n      return () => {\n        clearTimeout(timeId);\n      };\n    }\n  }, [error]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    axios.post(`${process.env.REACT_APP_API_URL}api/register`, {\n      name: user.username,\n      email: user.email\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log(res);\n      setUser({\n        username: '',\n        email: ''\n      });\n      navigate('/home');\n    }).catch(err => err.response.status === 422 ? setError(true) : setError(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center mb-4\",\n      children: \"Add a user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-danger text-center m-3 ${error === true ? 'd-block' : 'd-none'}`,\n      role: \"alert\",\n      children: \"Name or email address is invalid!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      className: \"container m-3\",\n      onSubmit: e => submitHandler(e),\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Enter Name\",\n          value: username,\n          onChange: e => onInputChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          placeholder: \"Enter email\",\n          value: email,\n          name: \"email\",\n          onChange: e => onInputChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"success\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        className: \"btn btn-danger m-2\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddUser, \"SF29I8wVFLUHqKmejdhTlpj7imA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddUser;\nexport default AddUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/src/AddUser.js"],"names":["React","useState","useEffect","Link","Form","FormGroup","Label","Input","Button","useNavigate","axios","AddUser","error","setError","user","setUser","username","email","navigate","onInputChange","e","target","name","value","timeId","setTimeout","clearTimeout","submitHandler","preventDefault","post","process","env","REACT_APP_API_URL","headers","then","res","console","log","catch","err","response","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Form, FormGroup, Label, Input, Button } from 'reactstrap'\nimport { useNavigate } from 'react-router-dom'\n\nimport axios from 'axios'\n\nconst AddUser = () => {\n\n  const [error, setError] = useState(false)\n\n  const [user, setUser] = useState({\n    username: '',\n    email: '',\n  })\n\n  const navigate = useNavigate()\n\n\n  const { username, email } = user\n\n  const onInputChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value })\n  }\n\n  useEffect(() => {\n\n    if (error === true) {\n      const timeId = setTimeout(() => {\n        // After 3 seconds set the show value to false\n        setError(false)\n      }, 5000)\n\n      return () => {\n        clearTimeout(timeId)\n      }\n  }\n  }, [error]);\n\n\n  const submitHandler = (e) => {\n\n    e.preventDefault()\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}api/register`,\n        {\n          name: user.username,\n          email: user.email,\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res)\n        setUser({\n          username: '',\n          email: '',\n        })\n        navigate('/home')\n      })\n      .catch((err) =>\n            err.response.status === 422 ?  setError(true) : setError(false)\n         )\n  }\n\n  return (\n    <>\n\n      <h2 className=\"text-center mb-4\">Add a user</h2>\n      <div className={`alert alert-danger text-center m-3 ${error === true ? 'd-block' : 'd-none'}`} role=\"alert\">\n        Name or email address is invalid!\n      </div>\n      <Form className=\"container m-3\" onSubmit={(e) => submitHandler(e)}>\n        <FormGroup>\n          <Label>Name</Label>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Enter Name\"\n            value={username}\n            onChange={(e) => onInputChange(e)}></Input>\n        </FormGroup>\n        <FormGroup>\n          <Label>Email</Label>\n          <Input\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            name=\"email\"\n            onChange={(e) => onInputChange(e)}></Input>\n        </FormGroup>\n        <Button type=\"submit\" color=\"success\">\n          Submit\n        </Button>\n        <Link to=\"/home\" className=\"btn btn-danger m-2\">\n          Cancel\n        </Link>\n      </Form>\n    </>\n  )\n}\n\nexport default AddUser\n"]},"metadata":{},"sourceType":"module"}