{"ast":null,"code":"import _slicedToArray from\"/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState,useEffect,setStatus}from'react';import{Link}from'react-router-dom';import{Nav,Navbar,NavItem,NavbarBrand,Row,Col}from'reactstrap';import data from'./data.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var deleteUser=function deleteUser(id){axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"api/delete/\").concat(id),{headers:{Authorization:'Bearer 48|KLRu1k2HXCX2RN9CPRlHCBWshR69CU37rtpxa9kG'}}).then(function(res){console.log(res);getUsers();}).catch(function(err){return console.log(err);});};var getUsers=function getUsers(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"api/index\"),{headers:{Authorization:'Bearer 48|KLRu1k2HXCX2RN9CPRlHCBWshR69CU37rtpxa9kG'}}).then(function(res){if(res.data.users){setUsers(res.data.users);}else{setUsers([]);}console.log(res.data.users);}).catch(function(err){return console.log(err);});};useEffect(function(){getUsers();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container home\",children:[/*#__PURE__*/_jsx(Navbar,{color:\"dark\",dark:true,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Row,{className:\"w-100 mx-3\",children:[/*#__PURE__*/_jsx(Col,{lg:10,children:/*#__PURE__*/_jsx(NavbarBrand,{href:\"/home\",children:\" OAS Team\"})}),/*#__PURE__*/_jsx(Col,{lg:2,children:/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/add\",children:\"Add User\"})})})})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped border \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" bg-dark text-white \",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Operations\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return deleteUser(user.id);},children:\"Delete\"})})]},index);})})]})]});}export default Home;","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/src/Home.js"],"names":["axios","React","useState","useEffect","setStatus","Link","Nav","Navbar","NavItem","NavbarBrand","Row","Col","data","Home","users","setUsers","deleteUser","id","delete","process","env","REACT_APP_API_URL","headers","Authorization","then","res","console","log","getUsers","catch","err","get","map","user","index","name","email"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect, setStatus } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Nav, Navbar, NavItem, NavbarBrand, Row, Col } from 'reactstrap'\nimport data from './data.js'\n\nfunction Home() {\n  const [users, setUsers] = useState([])\n\n  const deleteUser = (id) => {\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}api/delete/${id}`, {\n        headers: {\n          Authorization: 'Bearer 48|KLRu1k2HXCX2RN9CPRlHCBWshR69CU37rtpxa9kG',\n        },\n      })\n      .then((res) => {\n        console.log(res)\n        getUsers()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  const getUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}api/index`, {\n        headers: {\n          Authorization: 'Bearer 48|KLRu1k2HXCX2RN9CPRlHCBWshR69CU37rtpxa9kG',\n        },\n      })\n      .then((res) => {\n        if (res.data.users) {\n          setUsers(res.data.users)\n        } else {\n          setUsers([])\n        }\n        console.log(res.data.users)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  useEffect(() => {\n    getUsers()\n  }, [])\n\n  return (\n    <div className=\"container home\">\n      <Navbar color=\"dark\" dark className=\"mb-3\">\n        <Row className=\"w-100 mx-3\">\n          <Col lg={10}>\n            <NavbarBrand href=\"/home\"> OAS Team</NavbarBrand>\n          </Col>\n          <Col lg={2}>\n            <Nav>\n              <NavItem>\n                <Link className=\"btn btn-primary\" to=\"/add\">\n                  Add User\n                </Link>\n              </NavItem>\n            </Nav>\n          </Col>\n        </Row>\n      </Navbar>\n\n      <table className=\"table table-striped border \">\n        <thead className=\" bg-dark text-white \">\n          <tr>\n            <th scope=\"col\">Id</th>\n            <th scope=\"col\">Username</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Operations</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user, index) => {\n            return (\n              <tr key={index}>\n                <th scope=\"row\">{user.id}</th>\n                <td>{user.name}</td>\n                <td>{user.email}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-danger\"\n                    onClick={() => deleteUser(user.id)}>\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}